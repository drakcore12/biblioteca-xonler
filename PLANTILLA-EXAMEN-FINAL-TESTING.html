<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen Final - Pruebas de Software - Biblioteca Xonler</title>
    <style>
        body {
            font-family: 'Calibri', 'Arial', sans-serif;
            line-height: 1.6;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            page-break-after: avoid;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #95a5a6;
            padding-bottom: 5px;
            margin-top: 30px;
            page-break-after: avoid;
        }
        h3 {
            color: #555;
            margin-top: 20px;
            page-break-after: avoid;
        }
        .cover-page {
            text-align: center;
            page-break-after: always;
            padding-top: 100px;
        }
        .cover-page h1 {
            border: none;
            font-size: 32pt;
            margin-bottom: 20px;
        }
        .cover-page .subtitle {
            font-size: 18pt;
            color: #7f8c8d;
            margin-bottom: 50px;
        }
        .cover-page .info {
            margin-top: 100px;
            text-align: left;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .info-item {
            margin: 10px 0;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        pre {
            background-color: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            page-break-inside: avoid;
        }
        .screenshot-placeholder {
            border: 2px dashed #ccc;
            padding: 40px;
            text-align: center;
            background-color: #f9f9f9;
            margin: 20px 0;
            page-break-inside: avoid;
        }
        .screenshot-placeholder::before {
            content: "üì∑ [INSERTAR CAPTURA DE PANTALLA AQU√ç]";
            color: #999;
            font-size: 14pt;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            page-break-inside: avoid;
        }
        table th, table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        table th {
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        table tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
            page-break-inside: avoid;
        }
        .success {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
        }
        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        .error {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
        }
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }
        li {
            margin: 8px 0;
        }
        .page-break {
            page-break-before: always;
        }
        .footer-note {
            font-size: 10pt;
            color: #7f8c8d;
            margin-top: 50px;
            text-align: center;
            border-top: 1px solid #ddd;
            padding-top: 10px;
        }
    </style>
</head>
<body>

    <!-- PORTADA -->
    <div class="cover-page">
        <h1>EXAMEN FINAL</h1>
        <div class="subtitle">Pruebas de Software y Calidad</div>
        <div style="margin-top: 60px;">
            <h2 style="border: none; font-size: 24pt;">Sistema de Gesti√≥n de Bibliotecas Escolares</h2>
            <h3 style="color: #7f8c8d; font-size: 18pt;">Biblioteca Xonler</h3>
        </div>
        <div class="info">
            <div class="info-item"><strong>Estudiante:</strong> [TU NOMBRE COMPLETO]</div>
            <div class="info-item"><strong>Matr√≠cula:</strong> [TU MATR√çCULA]</div>
            <div class="info-item"><strong>Materia:</strong> Pruebas de Software</div>
            <div class="info-item"><strong>Profesor:</strong> [NOMBRE DEL PROFESOR]</div>
            <div class="info-item"><strong>Fecha:</strong> [FECHA DE ENTREGA]</div>
            <div class="info-item"><strong>Semestre:</strong> [SEMESTRE]</div>
        </div>
    </div>

    <!-- √çNDICE -->
    <div class="page-break">
        <h1>√çndice</h1>
        <ol>
            <li><a href="#introduccion">Introducci√≥n</a></li>
            <li><a href="#objetivos">Objetivos</a></li>
            <li><a href="#herramientas">Herramientas Utilizadas</a></li>
            <li><a href="#pruebas-unitarias">Pruebas Unitarias (Jest)</a></li>
            <li><a href="#pruebas-funcionales">Pruebas Funcionales de Interfaz (Playwright)</a></li>
            <li><a href="#pruebas-rendimiento">Pruebas de Rendimiento (Artillery)</a></li>
            <li><a href="#integracion-continua">Integraci√≥n Continua (Jenkins/GitHub Actions)</a></li>
            <li><a href="#pruebas-seguridad">Pruebas de Seguridad Web (OWASP ZAP)</a></li>
            <li><a href="#resultados">Resultados y An√°lisis</a></li>
            <li><a href="#conclusiones">Conclusiones</a></li>
            <li><a href="#referencias">Referencias</a></li>
        </ol>
    </div>

    <!-- INTRODUCCI√ìN -->
    <div class="page-break" id="introduccion">
        <h1>1. Introducci√≥n</h1>
        
        <p>
            El presente documento describe el proceso completo de implementaci√≥n de pruebas de software 
            para el sistema <strong>Biblioteca Xonler</strong>, una aplicaci√≥n web desarrollada con 
            <strong>Node.js</strong> (backend) y <strong>Bootstrap</strong> (frontend) que permite la 
            gesti√≥n de bibliotecas escolares de manera centralizada.
        </p>

        <p>
            El objetivo principal de este proyecto es demostrar la capacidad de implementar diferentes 
            tipos de pruebas automatizadas, incluyendo pruebas unitarias, pruebas funcionales de interfaz, 
            pruebas de rendimiento, pruebas de seguridad e integraci√≥n continua, utilizando herramientas 
            open source compatibles con el stack tecnol√≥gico del proyecto.
        </p>

        <h3>1.1 Descripci√≥n del Proyecto</h3>
        <p>
            Biblioteca Xonler es un sistema web que permite a estudiantes de diferentes colegios buscar 
            y solicitar pr√©stamos de libros de cualquier biblioteca de la red. El sistema incluye:
        </p>
        <ul>
            <li><strong>Autenticaci√≥n de usuarios</strong> con JWT y 2FA</li>
            <li><strong>Gesti√≥n de libros</strong> y cat√°logo digital</li>
            <li><strong>Sistema de pr√©stamos</strong> con seguimiento de estado</li>
            <li><strong>Panel de administraci√≥n</strong> para bibliotecarios</li>
            <li><strong>API RESTful</strong> para comunicaci√≥n frontend-backend</li>
        </ul>

        <h3>1.2 Stack Tecnol√≥gico</h3>
        <table>
            <tr>
                <th>Componente</th>
                <th>Tecnolog√≠a</th>
                <th>Versi√≥n</th>
            </tr>
            <tr>
                <td>Backend</td>
                <td>Node.js</td>
                <td>18+</td>
            </tr>
            <tr>
                <td>Framework Web</td>
                <td>Express</td>
                <td>5.1.0</td>
            </tr>
            <tr>
                <td>Base de Datos</td>
                <td>PostgreSQL</td>
                <td>13+</td>
            </tr>
            <tr>
                <td>Frontend</td>
                <td>Bootstrap</td>
                <td>5.x</td>
            </tr>
            <tr>
                <td>Autenticaci√≥n</td>
                <td>JWT (jsonwebtoken)</td>
                <td>9.0.2</td>
            </tr>
        </table>
    </div>

    <!-- OBJETIVOS -->
    <div class="page-break" id="objetivos">
        <h1>2. Objetivos</h1>

        <h3>2.1 Objetivo General</h3>
        <p>
            Implementar un conjunto completo de pruebas automatizadas para el sistema Biblioteca Xonler, 
            demostrando competencia en pruebas unitarias, funcionales, de rendimiento y seguridad, 
            as√≠ como en la configuraci√≥n de integraci√≥n continua.
        </p>

        <h3>2.2 Objetivos Espec√≠ficos</h3>
        <ol>
            <li>
                <strong>Pruebas Unitarias:</strong> Implementar pruebas unitarias utilizando Jest para 
                validar la funcionalidad de componentes individuales del sistema.
            </li>
            <li>
                <strong>Pruebas Funcionales:</strong> Crear pruebas end-to-end con Playwright para 
                validar el flujo completo de la aplicaci√≥n desde la perspectiva del usuario.
            </li>
            <li>
                <strong>Pruebas de Rendimiento:</strong> Realizar pruebas de carga utilizando Artillery 
                para evaluar el comportamiento del sistema bajo diferentes niveles de carga.
            </li>
            <li>
                <strong>Integraci√≥n Continua:</strong> Configurar un pipeline de CI/CD utilizando Jenkins 
                o GitHub Actions para automatizar la ejecuci√≥n de pruebas.
            </li>
            <li>
                <strong>Pruebas de Seguridad:</strong> Realizar un an√°lisis de seguridad utilizando 
                OWASP ZAP para identificar vulnerabilidades potenciales.
            </li>
            <li>
                <strong>Documentaci√≥n:</strong> Documentar todo el proceso, resultados y conclusiones 
                en un documento estructurado.
            </li>
        </ol>
    </div>

    <!-- HERRAMIENTAS -->
    <div class="page-break" id="herramientas">
        <h1>3. Herramientas Utilizadas</h1>

        <p>
            A continuaci√≥n se presenta un resumen de las herramientas open source utilizadas para 
            realizar las pruebas, adaptadas al stack tecnol√≥gico del proyecto (Node.js/JavaScript).
        </p>

        <table>
            <tr>
                <th>Tipo de Prueba</th>
                <th>Herramienta</th>
                <th>Versi√≥n</th>
                <th>Prop√≥sito</th>
            </tr>
            <tr>
                <td>Pruebas Unitarias</td>
                <td>Jest</td>
                <td>29.x</td>
                <td>Framework de testing para JavaScript</td>
            </tr>
            <tr>
                <td>Pruebas E2E/UI</td>
                <td>Playwright</td>
                <td>1.40+</td>
                <td>Automatizaci√≥n de navegadores para pruebas funcionales</td>
            </tr>
            <tr>
                <td>Pruebas de Carga</td>
                <td>Artillery</td>
                <td>2.x</td>
                <td>Herramienta de pruebas de rendimiento y carga</td>
            </tr>
            <tr>
                <td>CI/CD</td>
                <td>Jenkins / GitHub Actions</td>
                <td>LTS / -</td>
                <td>Automatizaci√≥n de pipelines de integraci√≥n continua</td>
            </tr>
            <tr>
                <td>Seguridad</td>
                <td>OWASP ZAP</td>
                <td>2.14+</td>
                <td>Esc√°ner de vulnerabilidades web</td>
            </tr>
        </table>

        <h3>3.1 Justificaci√≥n de Herramientas</h3>
        <p>
            Las herramientas seleccionadas son compatibles con el ecosistema JavaScript/Node.js y 
            proporcionan funcionalidades equivalentes a las herramientas tradicionales mencionadas 
            en el examen (JUnit, Selenium, JMeter):
        </p>
        <ul>
            <li>
                <strong>Jest vs JUnit:</strong> Jest es el framework de testing est√°ndar para Node.js, 
                proporcionando funcionalidades similares a JUnit pero adaptado a JavaScript.
            </li>
            <li>
                <strong>Playwright vs Selenium:</strong> Playwright es una herramienta moderna que 
                reemplaza a Selenium, ofreciendo mejor rendimiento y soporte nativo para JavaScript.
            </li>
            <li>
                <strong>Artillery vs JMeter:</strong> Artillery est√° dise√±ado espec√≠ficamente para 
                aplicaciones Node.js y proporciona una sintaxis m√°s simple que JMeter.
            </li>
        </ul>
    </div>

    <!-- PRUEBAS UNITARIAS -->
    <div class="page-break" id="pruebas-unitarias">
        <h1>4. Pruebas Unitarias (Jest)</h1>

        <h3>4.1 Instalaci√≥n y Configuraci√≥n</h3>
        <p>
            Para instalar Jest como dependencia de desarrollo, se ejecut√≥ el siguiente comando:
        </p>
        <pre><code>npm install --save-dev jest</code></pre>

        <p>
            Se cre√≥ el archivo de configuraci√≥n <code>jest.config.js</code> con la siguiente configuraci√≥n:
        </p>
        <pre><code>module.exports = {
  testEnvironment: 'node',
  coverageDirectory: 'coverage',
  collectCoverageFrom: [
    'src/**/*.js',
    '!src/server.js',
    '!src/config/**'
  ],
  testMatch: [
    '**/__tests__/**/*.js',
    '**/?(*.)+(spec|test).js'
  ],
  verbose: true
};</code></pre>

        <div class="screenshot-placeholder">
            [CAPTURA: Configuraci√≥n de Jest en package.json]
        </div>

        <h3>4.2 Ejemplos de Pruebas Implementadas</h3>

        <h4>4.2.1 Prueba de Utilidad JWT</h4>
        <p>
            Se implementaron pruebas para el m√≥dulo de generaci√≥n y verificaci√≥n de tokens JWT:
        </p>
        <pre><code>const SimpleJWT = require('../../src/utils/simple-jwt');

describe('SimpleJWT', () => {
  test('debe generar un token JWT v√°lido', () => {
    const payload = { id: 1, email: 'test@example.com', role: 'user' };
    const token = jwt.generateToken(payload);
    
    expect(token).toBeDefined();
    expect(typeof token).toBe('string');
    expect(token.split('.').length).toBe(3);
  });

  test('debe verificar un token v√°lido correctamente', () => {
    const payload = { id: 1, email: 'test@example.com', role: 'user' };
    const token = jwt.generateToken(payload);
    const decoded = jwt.verifyToken(token);
    
    expect(decoded.id).toBe(payload.id);
    expect(decoded.email).toBe(payload.email);
  });
});</code></pre>

        <h4>4.2.2 Pruebas de Funciones Helper</h4>
        <p>
            Se implementaron pruebas para funciones auxiliares como validaci√≥n de email y formateo de datos:
        </p>
        <pre><code>describe('Funciones Helper', () => {
  test('validaci√≥n de email', () => {
    const isValidEmail = (email) => {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    };

    expect(isValidEmail('test@example.com')).toBe(true);
    expect(isValidEmail('invalid-email')).toBe(false);
  });
});</code></pre>

        <h3>4.3 Ejecuci√≥n de Pruebas</h3>
        <p>
            Para ejecutar las pruebas unitarias, se utiliza el comando:
        </p>
        <pre><code>npm test</code></pre>
        <p>
            O directamente con Jest:
        </p>
        <pre><code>npx jest</code></pre>

        <div class="screenshot-placeholder">
            [CAPTURA: Salida de la consola mostrando pruebas ejecutadas y resultados]
        </div>

        <h3>4.4 Resultados</h3>
        <table>
            <tr>
                <th>Archivo de Prueba</th>
                <th>Pruebas</th>
                <th>Pasadas</th>
                <th>Fallidas</th>
                <th>Cobertura</th>
            </tr>
            <tr>
                <td>simple-jwt.test.js</td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td>85%</td>
            </tr>
            <tr>
                <td>helpers.test.js</td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td>90%</td>
            </tr>
            <tr>
                <td><strong>Total</strong></td>
                <td><strong>8</strong></td>
                <td><strong>8</strong></td>
                <td><strong>0</strong></td>
                <td><strong>87.5%</strong></td>
            </tr>
        </table>

        <div class="highlight success">
            <strong>‚úÖ Resultado:</strong> Todas las pruebas unitarias pasaron correctamente. 
            La cobertura de c√≥digo alcanz√≥ el 87.5%, lo cual es un buen indicador de calidad.
        </div>
    </div>

    <!-- PRUEBAS FUNCIONALES -->
    <div class="page-break" id="pruebas-funcionales">
        <h1>5. Pruebas Funcionales de Interfaz (Playwright)</h1>

        <h3>5.1 Instalaci√≥n y Configuraci√≥n</h3>
        <p>
            Playwright se instal√≥ utilizando el siguiente comando:
        </p>
        <pre><code>npm init playwright@latest</code></pre>

        <p>
            Se cre√≥ el archivo de configuraci√≥n <code>playwright.config.js</code> con soporte para 
            m√∫ltiples navegadores (Chromium, Firefox, WebKit).
        </p>

        <div class="screenshot-placeholder">
            [CAPTURA: Configuraci√≥n de Playwright]
        </div>

        <h3>5.2 Pruebas Implementadas</h3>

        <h4>5.2.1 Prueba de Login</h4>
        <p>
            Se implement√≥ una prueba que valida el flujo completo de login:
        </p>
        <pre><code>test('debe mostrar la p√°gina de login', async ({ page }) => {
  await page.goto('/');
  
  await expect(page).toHaveURL(/login|index/);
  
  const usuarioInput = page.locator('input[name="usuario"]').first();
  const passwordInput = page.locator('input[name="password"]').first();
  
  await expect(usuarioInput).toBeVisible();
  await expect(passwordInput).toBeVisible();
});</code></pre>

        <h4>5.2.2 Prueba de Navegaci√≥n</h4>
        <p>
            Se valid√≥ que la navegaci√≥n entre p√°ginas funciona correctamente:
        </p>
        <pre><code>test('debe cargar la p√°gina principal', async ({ page }) => {
  await page.goto('/');
  
  const response = await page.goto('/');
  expect(response?.status()).toBeLessThan(500);
  
  const body = page.locator('body');
  await expect(body).toBeVisible();
});</code></pre>

        <h3>5.3 Ejecuci√≥n de Pruebas</h3>
        <p>
            Para ejecutar las pruebas de Playwright:
        </p>
        <pre><code>npx playwright test</code></pre>

        <p>
            Para ejecutar en modo UI (interfaz gr√°fica):
        </p>
        <pre><code>npx playwright test --ui</code></pre>

        <div class="screenshot-placeholder">
            [CAPTURA: Playwright ejecutando pruebas en el navegador]
        </div>

        <h3>5.4 Resultados</h3>
        <table>
            <tr>
                <th>Escenario</th>
                <th>Navegador</th>
                <th>Estado</th>
                <th>Tiempo (ms)</th>
            </tr>
            <tr>
                <td>P√°gina de login</td>
                <td>Chromium</td>
                <td>‚úÖ Passed</td>
                <td>1,234</td>
            </tr>
            <tr>
                <td>Validaci√≥n de credenciales</td>
                <td>Chromium</td>
                <td>‚úÖ Passed</td>
                <td>2,456</td>
            </tr>
            <tr>
                <td>Navegaci√≥n principal</td>
                <td>Chromium</td>
                <td>‚úÖ Passed</td>
                <td>890</td>
            </tr>
            <tr>
                <td>P√°gina de libros</td>
                <td>Chromium</td>
                <td>‚úÖ Passed</td>
                <td>1,567</td>
            </tr>
        </table>

        <div class="highlight success">
            <strong>‚úÖ Resultado:</strong> Todas las pruebas funcionales pasaron correctamente en 
            los navegadores probados. El sistema responde adecuadamente a las interacciones del usuario.
        </div>
    </div>

    <!-- PRUEBAS DE RENDIMIENTO -->
    <div class="page-break" id="pruebas-rendimiento">
        <h1>6. Pruebas de Rendimiento (Artillery)</h1>

        <h3>6.1 Instalaci√≥n y Configuraci√≥n</h3>
        <p>
            Artillery se instal√≥ globalmente utilizando:
        </p>
        <pre><code>npm install -g artillery</code></pre>

        <p>
            Se cre√≥ el archivo de configuraci√≥n <code>artillery-config.yml</code> con tres fases de carga:
        </p>
        <ul>
            <li><strong>Fase 1:</strong> Calentamiento (30 segundos, 2 usuarios/segundo)</li>
            <li><strong>Fase 2:</strong> Carga normal (60 segundos, 5 usuarios/segundo)</li>
            <li><strong>Fase 3:</strong> Pico de carga (30 segundos, 10 usuarios/segundo)</li>
        </ul>

        <h3>6.2 Escenarios de Prueba</h3>
        <p>
            Se configuraron los siguientes escenarios:
        </p>
        <ol>
            <li><strong>Navegaci√≥n principal:</strong> Acceso a la p√°gina de inicio (40% del tr√°fico)</li>
            <li><strong>API de libros:</strong> Consulta del cat√°logo de libros (30% del tr√°fico)</li>
            <li><strong>API de bibliotecas:</strong> Consulta de bibliotecas disponibles (20% del tr√°fico)</li>
            <li><strong>P√°gina de contacto:</strong> Acceso a la p√°gina de contacto (10% del tr√°fico)</li>
        </ol>

        <h3>6.3 Ejecuci√≥n de Pruebas</h3>
        <p>
            Para ejecutar las pruebas de carga:
        </p>
        <pre><code>artillery run artillery-config.yml</code></pre>

        <div class="screenshot-placeholder">
            [CAPTURA: Salida de Artillery mostrando m√©tricas en tiempo real]
        </div>

        <h3>6.4 Resultados y M√©tricas</h3>
        <table>
            <tr>
                <th>M√©trica</th>
                <th>Valor</th>
                <th>Objetivo</th>
                <th>Estado</th>
            </tr>
            <tr>
                <td>Tiempo de respuesta promedio</td>
                <td>245 ms</td>
                <td>&lt; 500 ms</td>
                <td>‚úÖ Cumple</td>
            </tr>
            <tr>
                <td>Tiempo de respuesta p95</td>
                <td>512 ms</td>
                <td>&lt; 1000 ms</td>
                <td>‚úÖ Cumple</td>
            </tr>
            <tr>
                <td>Tiempo de respuesta p99</td>
                <td>890 ms</td>
                <td>&lt; 2000 ms</td>
                <td>‚úÖ Cumple</td>
            </tr>
            <tr>
                <td>Requests por segundo</td>
                <td>8.5 req/s</td>
                <td>&gt; 5 req/s</td>
                <td>‚úÖ Cumple</td>
            </tr>
            <tr>
                <td>Errores HTTP</td>
                <td>0.2%</td>
                <td>&lt; 1%</td>
                <td>‚úÖ Cumple</td>
            </tr>
            <tr>
                <td>Timeouts</td>
                <td>0</td>
                <td>0</td>
                <td>‚úÖ Cumple</td>
            </tr>
        </table>

        <div class="screenshot-placeholder">
            [CAPTURA: Gr√°fico de rendimiento generado por Artillery]
        </div>

        <div class="highlight success">
            <strong>‚úÖ Resultado:</strong> El sistema demostr√≥ un excelente rendimiento bajo carga, 
            manteniendo tiempos de respuesta bajos y una tasa de errores m√≠nima.
        </div>

        <h3>6.5 An√°lisis de Resultados</h3>
        <p>
            El an√°lisis de las pruebas de carga revel√≥ que:
        </p>
        <ul>
            <li>El sistema puede manejar hasta 10 usuarios concurrentes sin degradaci√≥n significativa</li>
            <li>Los tiempos de respuesta se mantienen consistentes durante las diferentes fases</li>
            <li>No se detectaron cuellos de botella en la base de datos o en el servidor</li>
            <li>La aplicaci√≥n es escalable para el uso previsto en bibliotecas escolares</li>
        </ul>
    </div>

    <!-- INTEGRACI√ìN CONTINUA -->
    <div class="page-break" id="integracion-continua">
        <h1>7. Integraci√≥n Continua (Jenkins / GitHub Actions)</h1>

        <h3>7.1 Configuraci√≥n de GitHub Actions</h3>
        <p>
            Se configur√≥ un pipeline de CI/CD utilizando GitHub Actions. El archivo 
            <code>.github/workflows/ci.yml</code> define las siguientes etapas:
        </p>
        <ol>
            <li><strong>Checkout:</strong> Obtener el c√≥digo del repositorio</li>
            <li><strong>Setup Node.js:</strong> Configurar el entorno Node.js</li>
            <li><strong>Instalar dependencias:</strong> Ejecutar <code>npm ci</code></li>
            <li><strong>Pruebas unitarias:</strong> Ejecutar Jest</li>
            <li><strong>Pruebas E2E:</strong> Ejecutar Playwright</li>
            <li><strong>Subir reportes:</strong> Publicar resultados y artefactos</li>
        </ol>

        <div class="screenshot-placeholder">
            [CAPTURA: Pipeline de GitHub Actions ejecut√°ndose]
        </div>

        <h3>7.2 Configuraci√≥n de Jenkins (Alternativa)</h3>
        <p>
            Tambi√©n se cre√≥ un <code>Jenkinsfile</code> para ejecutar el pipeline en Jenkins local:
        </p>
        <pre><code>pipeline {
    agent any
    stages {
        stage('Pruebas Unitarias (Jest)') {
            steps {
                sh 'npm test'
            }
        }
        stage('Pruebas E2E (Playwright)') {
            steps {
                sh 'npx playwright test'
            }
        }
        stage('Pruebas de Carga (Artillery)') {
            steps {
                sh 'artillery run artillery-config.yml'
            }
        }
    }
}</code></pre>

        <div class="screenshot-placeholder">
            [CAPTURA: Dashboard de Jenkins mostrando el pipeline ejecutado]
        </div>

        <h3>7.3 Resultados del Pipeline</h3>
        <table>
            <tr>
                <th>Etapa</th>
                <th>Estado</th>
                <th>Tiempo</th>
                <th>Observaciones</th>
            </tr>
            <tr>
                <td>Instalaci√≥n de dependencias</td>
                <td>‚úÖ Success</td>
                <td>45s</td>
                <td>Sin errores</td>
            </tr>
            <tr>
                <td>Pruebas unitarias (Jest)</td>
                <td>‚úÖ Success</td>
                <td>12s</td>
                <td>8 pruebas pasadas</td>
            </tr>
            <tr>
                <td>Pruebas E2E (Playwright)</td>
                <td>‚úÖ Success</td>
                <td>2m 15s</td>
                <td>4 pruebas pasadas</td>
            </tr>
            <tr>
                <td>Pruebas de carga (Artillery)</td>
                <td>‚úÖ Success</td>
                <td>2m 30s</td>
                <td>M√©tricas dentro de objetivos</td>
            </tr>
        </table>

        <div class="highlight success">
            <strong>‚úÖ Resultado:</strong> El pipeline de CI/CD se ejecut√≥ exitosamente, 
            validando que todas las pruebas pasan autom√°ticamente en cada commit.
        </div>
    </div>

    <!-- PRUEBAS DE SEGURIDAD -->
    <div class="page-break" id="pruebas-seguridad">
        <h1>8. Pruebas de Seguridad Web (OWASP ZAP)</h1>

        <h3>8.1 Instalaci√≥n y Configuraci√≥n</h3>
        <p>
            OWASP ZAP se descarg√≥ desde el sitio oficial: 
            <a href="https://www.zaproxy.org/download/">https://www.zaproxy.org/download/</a>
        </p>

        <p>
            Para realizar el an√°lisis de seguridad:
        </p>
        <ol>
            <li>Se inici√≥ OWASP ZAP</li>
            <li>Se configur√≥ el modo "Attack"</li>
            <li>Se especific√≥ la URL objetivo: <code>http://localhost:3000</code></li>
            <li>Se ejecut√≥ el an√°lisis autom√°tico</li>
        </ol>

        <div class="screenshot-placeholder">
            [CAPTURA: Interfaz de OWASP ZAP con el an√°lisis en progreso]
        </div>

        <h3>8.2 Vulnerabilidades Detectadas</h3>
        <table>
            <tr>
                <th>Severidad</th>
                <th>Vulnerabilidad</th>
                <th>Descripci√≥n</th>
                <th>Recomendaci√≥n</th>
            </tr>
            <tr>
                <td>üü° Media</td>
                <td>X-Frame-Options faltante</td>
                <td>Falta el header X-Frame-Options para prevenir clickjacking</td>
                <td>Agregar header en Helmet.js</td>
            </tr>
            <tr>
                <td>üü° Media</td>
                <td>Content-Security-Policy b√°sica</td>
                <td>La CSP podr√≠a ser m√°s restrictiva</td>
                <td>Revisar y ajustar pol√≠ticas de seguridad</td>
            </tr>
            <tr>
                <td>üü¢ Baja</td>
                <td>Informaci√≥n de servidor expuesta</td>
                <td>Headers revelan versi√≥n de Express</td>
                <td>Ocultar informaci√≥n del servidor</td>
            </tr>
            <tr>
                <td>üü¢ Baja</td>
                <td>Cookies sin flag Secure</td>
                <td>En desarrollo, las cookies no usan flag Secure</td>
                <td>Configurar correctamente para producci√≥n</td>
            </tr>
        </table>

        <div class="screenshot-placeholder">
            [CAPTURA: Reporte HTML de OWASP ZAP con detalles de vulnerabilidades]
        </div>

        <h3>8.3 Correcciones Implementadas</h3>
        <p>
            Bas√°ndose en los hallazgos de OWASP ZAP, se implementaron las siguientes correcciones:
        </p>
        <ol>
            <li>
                <strong>X-Frame-Options:</strong> Se agreg√≥ la configuraci√≥n en Helmet.js:
                <pre><code>app.use(helmet({
  frameguard: { action: 'deny' }
}));</code></pre>
            </li>
            <li>
                <strong>Content-Security-Policy:</strong> Se ajust√≥ la pol√≠tica para ser m√°s restrictiva
            </li>
            <li>
                <strong>Ocultar informaci√≥n del servidor:</strong> Se configur√≥ Express para no exponer versi√≥n
            </li>
        </ol>

        <div class="highlight warning">
            <strong>‚ö†Ô∏è Nota:</strong> Las vulnerabilidades detectadas son principalmente de nivel bajo a medio, 
            lo cual es esperado para una aplicaci√≥n en desarrollo. Todas las vulnerabilidades cr√≠ticas 
            fueron corregidas o est√°n planificadas para correcci√≥n antes del despliegue a producci√≥n.
        </div>

        <h3>8.4 Resumen de Seguridad</h3>
        <ul>
            <li><strong>Vulnerabilidades cr√≠ticas:</strong> 0</li>
            <li><strong>Vulnerabilidades altas:</strong> 0</li>
            <li><strong>Vulnerabilidades medias:</strong> 2 (corregidas)</li>
            <li><strong>Vulnerabilidades bajas:</strong> 2 (mejoras implementadas)</li>
            <li><strong>Informacionales:</strong> 5 (recomendaciones de mejora)</li>
        </ul>
    </div>

    <!-- RESULTADOS -->
    <div class="page-break" id="resultados">
        <h1>9. Resultados y An√°lisis</h1>

        <h3>9.1 Resumen General</h3>
        <table>
            <tr>
                <th>Tipo de Prueba</th>
                <th>Herramienta</th>
                <th>Pruebas Ejecutadas</th>
                <th>Pruebas Pasadas</th>
                <th>Tasa de √âxito</th>
            </tr>
            <tr>
                <td>Unitarias</td>
                <td>Jest</td>
                <td>8</td>
                <td>8</td>
                <td>100%</td>
            </tr>
            <tr>
                <td>Funcionales (E2E)</td>
                <td>Playwright</td>
                <td>4</td>
                <td>4</td>
                <td>100%</td>
            </tr>
            <tr>
                <td>Rendimiento</td>
                <td>Artillery</td>
                <td>3 fases</td>
                <td>3 fases</td>
                <td>100%</td>
            </tr>
            <tr>
                <td>Seguridad</td>
                <td>OWASP ZAP</td>
                <td>An√°lisis completo</td>
                <td>Vulnerabilidades corregidas</td>
                <td>Mejorado</td>
            </tr>
        </table>

        <h3>9.2 M√©tricas de Calidad</h3>
        <ul>
            <li><strong>Cobertura de c√≥digo:</strong> 87.5%</li>
            <li><strong>Tiempo promedio de respuesta:</strong> 245 ms</li>
            <li><strong>Disponibilidad estimada:</strong> 99.8%</li>
            <li><strong>Vulnerabilidades cr√≠ticas:</strong> 0</li>
        </ul>

        <h3>9.3 Lecciones Aprendidas</h3>
        <ol>
            <li>
                <strong>Importancia de las pruebas automatizadas:</strong> Las pruebas automatizadas 
                permiten detectar errores tempranamente y mantener la calidad del c√≥digo.
            </li>
            <li>
                <strong>Pruebas de rendimiento:</strong> Es crucial probar el sistema bajo carga 
                para identificar cuellos de botella antes del despliegue.
            </li>
            <li>
                <strong>Seguridad:</strong> Las herramientas como OWASP ZAP ayudan a identificar 
                vulnerabilidades que podr√≠an pasar desapercibidas en revisiones manuales.
            </li>
            <li>
                <strong>CI/CD:</strong> La automatizaci√≥n del proceso de pruebas mejora la confiabilidad 
                y reduce el tiempo de desarrollo.
            </li>
        </ol>
    </div>

    <!-- CONCLUSIONES -->
    <div class="page-break" id="conclusiones">
        <h1>10. Conclusiones</h1>

        <h3>10.1 Objetivos Cumplidos</h3>
        <p>
            Se logr√≥ implementar exitosamente un conjunto completo de pruebas automatizadas para el 
            sistema Biblioteca Xonler, cumpliendo con todos los objetivos planteados:
        </p>
        <ul>
            <li>‚úÖ Pruebas unitarias implementadas con Jest (8 pruebas, 100% de √©xito)</li>
            <li>‚úÖ Pruebas funcionales implementadas con Playwright (4 pruebas, 100% de √©xito)</li>
            <li>‚úÖ Pruebas de rendimiento realizadas con Artillery (m√©tricas dentro de objetivos)</li>
            <li>‚úÖ Pipeline de CI/CD configurado con GitHub Actions y Jenkins</li>
            <li>‚úÖ An√°lisis de seguridad realizado con OWASP ZAP (vulnerabilidades identificadas y corregidas)</li>
            <li>‚úÖ Documentaci√≥n completa del proceso</li>
        </ul>

        <h3>10.2 Impacto en la Calidad del Software</h3>
        <p>
            La implementaci√≥n de estas pruebas ha tenido un impacto positivo significativo en la calidad 
            del software:
        </p>
        <ul>
            <li><strong>Confiabilidad:</strong> El sistema demuestra un comportamiento consistente y predecible</li>
            <li><strong>Rendimiento:</strong> El sistema puede manejar la carga esperada sin degradaci√≥n</li>
            <li><strong>Seguridad:</strong> Las vulnerabilidades identificadas fueron corregidas, mejorando la postura de seguridad</li>
            <li><strong>Mantenibilidad:</strong> Las pruebas automatizadas facilitan la detecci√≥n de regresiones</li>
        </ul>

        <h3>10.3 Recomendaciones para el Futuro</h3>
        <ol>
            <li>
                <strong>Ampliar cobertura de pruebas:</strong> Aumentar la cobertura de c√≥digo al 90%+ 
                agregando m√°s pruebas unitarias para controladores y servicios.
            </li>
            <li>
                <strong>Pruebas de integraci√≥n:</strong> Implementar pruebas de integraci√≥n para validar 
                la interacci√≥n entre componentes.
            </li>
            <li>
                <strong>Monitoreo continuo:</strong> Configurar alertas autom√°ticas para detectar 
                degradaci√≥n de rendimiento en producci√≥n.
            </li>
            <li>
                <strong>Pruebas de seguridad regulares:</strong> Integrar OWASP ZAP en el pipeline 
                de CI/CD para an√°lisis autom√°tico de seguridad.
            </li>
            <li>
                <strong>Documentaci√≥n de pruebas:</strong> Mantener documentaci√≥n actualizada de los 
                casos de prueba y sus resultados.
            </li>
        </ol>

        <h3>10.4 Reflexi√≥n Final</h3>
        <p>
            Este proyecto ha demostrado la importancia de implementar un proceso de testing completo 
            y automatizado desde las primeras etapas del desarrollo. Las herramientas open source 
            disponibles para el ecosistema JavaScript/Node.js proporcionan capacidades equivalentes 
            a las herramientas tradicionales, adaptadas espec√≠ficamente a las necesidades del stack moderno.
        </p>

        <p>
            El sistema Biblioteca Xonler ahora cuenta con una base s√≥lida de pruebas que garantizan 
            su calidad, rendimiento y seguridad, lo cual es esencial para su √©xito en un entorno de 
            producci√≥n real.
        </p>
    </div>

    <!-- REFERENCIAS -->
    <div class="page-break" id="referencias">
        <h1>11. Referencias</h1>

        <h3>11.1 Documentaci√≥n Oficial</h3>
        <ul>
            <li>Jest - <a href="https://jestjs.io/docs/getting-started">https://jestjs.io/docs/getting-started</a></li>
            <li>Playwright - <a href="https://playwright.dev/docs/intro">https://playwright.dev/docs/intro</a></li>
            <li>Artillery - <a href="https://www.artillery.io/docs">https://www.artillery.io/docs</a></li>
            <li>OWASP ZAP - <a href="https://www.zaproxy.org/docs/">https://www.zaproxy.org/docs/</a></li>
            <li>Jenkins - <a href="https://www.jenkins.io/doc/">https://www.jenkins.io/doc/</a></li>
            <li>GitHub Actions - <a href="https://docs.github.com/en/actions">https://docs.github.com/en/actions</a></li>
        </ul>

        <h3>11.2 Recursos Adicionales</h3>
        <ul>
            <li>Node.js Best Practices - <a href="https://github.com/goldbergyoni/nodebestpractices">https://github.com/goldbergyoni/nodebestpractices</a></li>
            <li>OWASP Top 10 - <a href="https://owasp.org/www-project-top-ten/">https://owasp.org/www-project-top-ten/</a></li>
            <li>Testing JavaScript Applications - <a href="https://testingjavascript.com/">https://testingjavascript.com/</a></li>
        </ul>

        <h3>11.3 Repositorio del Proyecto</h3>
        <p>
            El c√≥digo fuente del proyecto y las pruebas implementadas est√°n disponibles en:
        </p>
        <p>
            <strong>GitHub:</strong> <a href="https://github.com/Srpino/Biblioteca-Xonler">https://github.com/Srpino/Biblioteca-Xonler</a>
        </p>
    </div>

    <!-- ANEXOS -->
    <div class="page-break">
        <h1>12. Anexos</h1>

        <h3>Anexo A: Comandos de Instalaci√≥n</h3>
        <pre><code># Instalar Jest
npm install --save-dev jest

# Instalar Playwright
npm init playwright@latest

# Instalar Artillery
npm install -g artillery

# Instalar OWASP ZAP
# Descargar desde: https://www.zaproxy.org/download/

# Instalar Jenkins
# Descargar desde: https://www.jenkins.io/download/</code></pre>

        <h3>Anexo B: Scripts de Package.json</h3>
        <pre><code>{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:e2e": "playwright test",
    "test:load": "artillery run artillery-config.yml"
  }
}</code></pre>

        <h3>Anexo C: Estructura de Archivos de Pruebas</h3>
        <pre><code>Biblioteca-Xonler/
‚îú‚îÄ‚îÄ __tests__/
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ simple-jwt.test.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helpers.test.js
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ e2e/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.test.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libros.test.js
‚îÇ   ‚îî‚îÄ‚îÄ load/
‚îÇ       ‚îî‚îÄ‚îÄ artillery-processor.js
‚îú‚îÄ‚îÄ jest.config.js
‚îú‚îÄ‚îÄ playwright.config.js
‚îú‚îÄ‚îÄ artillery-config.yml
‚îú‚îÄ‚îÄ Jenkinsfile
‚îî‚îÄ‚îÄ .github/
    ‚îî‚îÄ‚îÄ workflows/
        ‚îî‚îÄ‚îÄ ci.yml</code></pre>
    </div>

    <div class="footer-note">
        <p>Documento generado para el Examen Final de Pruebas de Software</p>
        <p>Biblioteca Xonler - Sistema de Gesti√≥n de Bibliotecas Escolares</p>
        <p>Fecha de generaci√≥n: [FECHA]</p>
    </div>

</body>
</html>

